<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Actualizar Usuario</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <script src="bower_components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="bower_components/core-scaffold/core-scaffold.html">
    <link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
    <link rel="import" href="bower_components/core-menu/core-menu.html">
    <link rel="import" href="bower_components/core-item/core-item.html">
    <link rel="import" href="bower_components/paper-toast/paper-toast.html">
    <link rel="import" href="bower_components/paper-fab/paper-fab.html">
    <link rel="import" href="bower_components/paper-tabs/paper-tab.html">
    <link rel="import" href="bower_components/paper-input/paper-input.html">
    <link rel="import" href="bower_components/paper-button/paper-button.html">
    <link rel="import" href="bower_components/paper-toggle-button/paper-toggle-button.html">
    <link rel="import" href="bower_components/core-icon-button/core-icon-button.html">
    <link rel="import" href="bower_components/polymer/polymer.html">

    <link rel="stylesheet" type="text/css" href="css/custom.css" media="screen"/>
</head>

<body>
<core-toolbar id="core_toolbar">
    <label flex="twelve">Actualizar usuario</label>
    <core-icon-button
            id="icon"
            icon="chevron-left">
    </core-icon-button>
</core-toolbar>
<div class="wrapper">
    <div class="wrapper">
        <label> </label>
        <label> Introduce tu Username en primer lugar </label>
        <paper-input  id="Username" label="Username" floatinglabel="true"></paper-input><br><br><br>
        <label> Actualize los campos necesarios (rellenar todos) </label><br>
        <paper-input  id="Password" label="Password" floatinglabel="true"></paper-input><br>
        <paper-input  id="Name" label="Name" floatinglabel="true"></paper-input><br>
        <paper-input  id="Surname" label="Surname" floatinglabel="true"></paper-input><br>
        <paper-input  id="Email" label="nombre@dominio" floatinglabel="true"></paper-input><br>
        <paper-input  type="Date" id="Birthdate" label="YYYY/MM/DD" floatinglabel="true"></paper-input><br>
        <paper-input  id="Gender" label="Male/Female" floatinglabel="true"></paper-input><br>
        <paper-input  id="Location" label="Escribe tu barrio" floatinglabel="true"></paper-input><br>
        <paper-input  id="Level" label="Beginner/Medium/High" floatinglabel="true"></paper-input><br>
        <paper-button id="putUserBtn" class="colored" raised="true" role="button">UPDATE</paper-button>
        <paper-button id="atras" class="colored" raised="true" role="button">Atras</paper-button>
    </div>
    <hr>
</div>

<script type=" text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>

<script type="text/javascript" >
    $("#atras").click(function () {
        window.location.href = "getTodoBy.html"
    });

    $("#putUserBtn").click(function () {
        getUpdateBy()
    });

    function getUpdateBy() {
        var Username = $("#Username").val();

        if (Username != "") {
            var shoename = $("#shoename").val();
            var Password = $("#Password").val();
            var Name = $("#Name").val();
            var Surname = $("#Surname").val();
            var Email = $("#Email").val();
            var Birthdate = $("#Birthdate").val();
            var Gender = $("#Gender").val();
            var Location = $("#Location").val();
            var Level = $("#Level").val();

            var todo = new Object();
            todo.Username = Username;
            todo.Password = Password;
            todo.Name = Name;
            todo.Surname = Surname;
            todo.Email = Email;
            todo.Birthdate = Birthdate;
            todo.Gender = Gender;
            todo.Location = Location;
            todo.Level = Level;

            var data = JSON.stringify(todo);


            $.ajax({
                url: "https://localhost:3030/user/" + Username,
                type: 'PUT',
                crossDomain: true,
                contentType: 'application/json',
                data: data,
                success: function (data) {
                    window.location.href = "getTodoBy.html"
                },
                error: function () {
                    window.alert("Error, revise los datos. Recuerde ponerlos todos");
                }
            });
        } else {
            window.alert("Debes poner tu usuario");
        }
    }

        </script>
<script type="text/javascript" src="js/index.js"></script>
</body>

</html>